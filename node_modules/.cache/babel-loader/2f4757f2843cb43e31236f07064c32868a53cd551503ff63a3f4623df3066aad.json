{"ast":null,"code":"import React,{useState}from'react';import{useNavigate}from'react-router-dom';import authService from'../services/authService';import'../styles/Auth.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Register=()=>{const[formData,setFormData]=useState({username:'',email:'',password:'',confirmPassword:'',role:'client',secretCode:''});const[showSecretField,setShowSecretField]=useState(false);const[error,setError]=useState('');const[loading,setLoading]=useState(false);const navigate=useNavigate();const handleChange=e=>{const{name,value}=e.target;setFormData({...formData,[name]:value});};const toggleSecretField=()=>{setShowSecretField(!showSecretField);};const handleSubmit=async e=>{e.preventDefault();setError('');// Validaciones básicas\nif(formData.password!==formData.confirmPassword){setError('Las contraseñas no coinciden');return;}if(formData.password.length<6){setError('La contraseña debe tener al menos 6 caracteres');return;}try{setLoading(true);await authService.register(formData);navigate('/');}catch(error){setError('Error al registrar usuario. Por favor intente nuevamente.');console.error(error);}finally{setLoading(false);}};return/*#__PURE__*/_jsx(\"div\",{className:\"auth-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"auth-form-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Crear Cuenta\"}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"auth-error\",children:error}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"auth-form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"username\",children:\"Nombre de Usuario\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"username\",name:\"username\",value:formData.username,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"Correo Electr\\xF3nico\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",id:\"email\",name:\"email\",value:formData.email,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Contrase\\xF1a\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"password\",name:\"password\",value:formData.password,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"confirmPassword\",children:\"Confirmar Contrase\\xF1a\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"confirmPassword\",name:\"confirmPassword\",value:formData.confirmPassword,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"role\",children:\"Tipo de Usuario\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"role\",name:\"role\",value:formData.role,onChange:handleChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"client\",children:\"Cliente\"}),/*#__PURE__*/_jsx(\"option\",{value:\"agent\",children:\"Agente Inmobiliario\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group admin-toggle\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"toggle-admin-btn\",onClick:toggleSecretField,children:showSecretField?\"Ocultar opciones avanzadas\":\"Mostrar opciones avanzadas\"})}),showSecretField&&/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"secretCode\",children:\"C\\xF3digo de Administrador\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"secretCode\",name:\"secretCode\",value:formData.secretCode,onChange:handleChange,placeholder:\"Ingrese el c\\xF3digo secreto para administradores\"}),/*#__PURE__*/_jsx(\"small\",{children:\"Solo para usuarios autorizados\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"auth-button\",disabled:loading,children:loading?'Procesando...':'Registrarse'})]}),/*#__PURE__*/_jsx(\"div\",{className:\"auth-links\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"\\xBFYa tienes una cuenta? \",/*#__PURE__*/_jsx(\"a\",{href:\"/login\",children:\"Iniciar Sesi\\xF3n\"})]})})]})});};export default Register;","map":{"version":3,"names":["React","useState","useNavigate","authService","jsx","_jsx","jsxs","_jsxs","Register","formData","setFormData","username","email","password","confirmPassword","role","secretCode","showSecretField","setShowSecretField","error","setError","loading","setLoading","navigate","handleChange","e","name","value","target","toggleSecretField","handleSubmit","preventDefault","length","register","console","className","children","onSubmit","htmlFor","type","id","onChange","required","onClick","placeholder","disabled","href"],"sources":["C:/Proyectos/BienesRaicesProyects/src/pages/Register.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport authService from '../services/authService';\r\nimport '../styles/Auth.css';\r\n\r\nconst Register = () => {\r\n  const [formData, setFormData] = useState({\r\n    username: '',\r\n    email: '',\r\n    password: '',\r\n    confirmPassword: '',\r\n    role: 'client',\r\n    secretCode: ''\r\n  });\r\n  \r\n  const [showSecretField, setShowSecretField] = useState(false);\r\n  const [error, setError] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n  const navigate = useNavigate();\r\n  \r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData({\r\n      ...formData,\r\n      [name]: value\r\n    });\r\n  };\r\n  \r\n  const toggleSecretField = () => {\r\n    setShowSecretField(!showSecretField);\r\n  };\r\n  \r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setError('');\r\n    \r\n    // Validaciones básicas\r\n    if (formData.password !== formData.confirmPassword) {\r\n      setError('Las contraseñas no coinciden');\r\n      return;\r\n    }\r\n    \r\n    if (formData.password.length < 6) {\r\n      setError('La contraseña debe tener al menos 6 caracteres');\r\n      return;\r\n    }\r\n    \r\n    try {\r\n      setLoading(true);\r\n      await authService.register(formData);\r\n      navigate('/');\r\n    } catch (error) {\r\n      setError('Error al registrar usuario. Por favor intente nuevamente.');\r\n      console.error(error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n  \r\n  return (\r\n    <div className=\"auth-container\">\r\n      <div className=\"auth-form-container\">\r\n        <h2>Crear Cuenta</h2>\r\n        \r\n        {error && <div className=\"auth-error\">{error}</div>}\r\n        \r\n        <form onSubmit={handleSubmit} className=\"auth-form\">\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"username\">Nombre de Usuario</label>\r\n            <input\r\n              type=\"text\"\r\n              id=\"username\"\r\n              name=\"username\"\r\n              value={formData.username}\r\n              onChange={handleChange}\r\n              required\r\n            />\r\n          </div>\r\n          \r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"email\">Correo Electrónico</label>\r\n            <input\r\n              type=\"email\"\r\n              id=\"email\"\r\n              name=\"email\"\r\n              value={formData.email}\r\n              onChange={handleChange}\r\n              required\r\n            />\r\n          </div>\r\n          \r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"password\">Contraseña</label>\r\n            <input\r\n              type=\"password\"\r\n              id=\"password\"\r\n              name=\"password\"\r\n              value={formData.password}\r\n              onChange={handleChange}\r\n              required\r\n            />\r\n          </div>\r\n          \r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"confirmPassword\">Confirmar Contraseña</label>\r\n            <input\r\n              type=\"password\"\r\n              id=\"confirmPassword\"\r\n              name=\"confirmPassword\"\r\n              value={formData.confirmPassword}\r\n              onChange={handleChange}\r\n              required\r\n            />\r\n          </div>\r\n          \r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"role\">Tipo de Usuario</label>\r\n            <select\r\n              id=\"role\"\r\n              name=\"role\"\r\n              value={formData.role}\r\n              onChange={handleChange}\r\n            >\r\n              <option value=\"client\">Cliente</option>\r\n              <option value=\"agent\">Agente Inmobiliario</option>\r\n            </select>\r\n          </div>\r\n          \r\n          <div className=\"form-group admin-toggle\">\r\n            <button \r\n              type=\"button\" \r\n              className=\"toggle-admin-btn\"\r\n              onClick={toggleSecretField}\r\n            >\r\n              {showSecretField ? \"Ocultar opciones avanzadas\" : \"Mostrar opciones avanzadas\"}\r\n            </button>\r\n          </div>\r\n          \r\n          {showSecretField && (\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"secretCode\">Código de Administrador</label>\r\n              <input\r\n                type=\"password\"\r\n                id=\"secretCode\"\r\n                name=\"secretCode\"\r\n                value={formData.secretCode}\r\n                onChange={handleChange}\r\n                placeholder=\"Ingrese el código secreto para administradores\"\r\n              />\r\n              <small>Solo para usuarios autorizados</small>\r\n            </div>\r\n          )}\r\n          \r\n          <button \r\n            type=\"submit\" \r\n            className=\"auth-button\"\r\n            disabled={loading}\r\n          >\r\n            {loading ? 'Procesando...' : 'Registrarse'}\r\n          </button>\r\n        </form>\r\n        \r\n        <div className=\"auth-links\">\r\n          <p>¿Ya tienes una cuenta? <a href=\"/login\">Iniciar Sesión</a></p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Register;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}